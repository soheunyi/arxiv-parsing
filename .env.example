# Environment Configuration for arXiv Parsing System

# ============================================================================
# Core Application Settings
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# External Services Configuration
# ============================================================================

# GROBID Service Configuration
GROBID_URL=http://localhost:8070
GROBID_TIMEOUT=300
GROBID_MAX_CONNECTIONS=10

# arXiv API Configuration
ARXIV_BASE_URL=https://arxiv.org
ARXIV_RATE_LIMIT_DELAY=3.1
ARXIV_MAX_RETRIES=3
ARXIV_TIMEOUT=30

# Google Search API Configuration (for citation validation)
GOOGLE_SEARCH_API_KEY=your_google_search_api_key_here
GOOGLE_SEARCH_ENGINE_ID=your_custom_search_engine_id_here
GOOGLE_SEARCH_RATE_LIMIT=100
GOOGLE_SEARCH_TIMEOUT=10

# ============================================================================
# Storage and Caching Configuration
# ============================================================================

# Redis Configuration (for caching)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_TIMEOUT=5
REDIS_MAX_CONNECTIONS=20

# Database Configuration (SQLite for development, PostgreSQL for production)
DATABASE_URL=sqlite:///./data/arxiv_parsing.db
# DATABASE_URL=postgresql://arxiv_user:arxiv_password@localhost:5432/arxiv_parsing

# File storage paths
DATA_DIR=./data
CACHE_DIR=./data/cache
OUTPUT_DIR=./output
MODELS_DIR=./data/models

# ============================================================================
# Processing Configuration
# ============================================================================

# Parser configuration
ENABLE_HTML_PARSER=true
ENABLE_PDF_FALLBACK=true
ENABLE_ANYSTYLE_PARSER=false
DEFAULT_PARSER_PRIORITY=grobid,html,anystyle

# Batch processing
MAX_CONCURRENT_REQUESTS=5
BATCH_SIZE=10
MAX_RETRY_ATTEMPTS=3

# Feature extraction and ML
ENABLE_META_LEARNING=true
MODEL_UPDATE_INTERVAL=24h
FEATURE_CACHE_TTL=86400

# ============================================================================
# Performance and Monitoring
# ============================================================================

# Rate limiting
GLOBAL_RATE_LIMIT=100
RATE_LIMIT_WINDOW=3600

# Timeouts
HTTP_TIMEOUT=30
PARSER_TIMEOUT=120
SEARCH_TIMEOUT=10

# Memory limits
MAX_MEMORY_USAGE=1GB
MAX_FILE_SIZE=50MB

# ============================================================================
# Development and Testing
# ============================================================================

# Test configuration
TEST_DATA_DIR=./tests/fixtures
ENABLE_INTEGRATION_TESTS=true
MOCK_EXTERNAL_SERVICES=false

# Development tools
ENABLE_PROFILING=false
ENABLE_DEBUG_LOGGING=false
SAVE_INTERMEDIATE_RESULTS=false

# ============================================================================
# Security Configuration
# ============================================================================

# API security
API_KEY_HEADER=X-API-Key
RATE_LIMIT_BY_IP=true

# Input validation
MAX_PAPER_ID_LENGTH=50
ALLOWED_FILE_EXTENSIONS=.pdf,.html,.xml
SANITIZE_INPUTS=true

# ============================================================================
# Optional AnyStyle Configuration (Ruby-based parser)
# ============================================================================

# AnyStyle Ruby gem path (if using AnyStyle parser)
ANYSTYLE_RUBY_PATH=/usr/bin/ruby
ANYSTYLE_GEM_PATH=/usr/local/bin/anystyle
ANYSTYLE_TIMEOUT=60